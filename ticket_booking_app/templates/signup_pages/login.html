{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Where's MySeat</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="{% static 'signup_pages/login.css'%}">
</head>
<body>
    
<div class="login_page">
    <div class="log">
        <div class="login">
            <h2>Sign In</h2>
            <a href="#"><i class="fa-solid fa-xmark" id="cancel"></i></a>
    
            <form action="/login_view/" method="POST" id="login_form" class="login_form">
                {% csrf_token %}
    
                <div class="input_box">
                    <input type="text" name="username" placeholder="Username" id="username">
                    {% if messages %}
                    {% for message in messages %}
                    <p style="color: red;">{{ message }}</p>
                    {% endfor %}
                    {% endif %}
                    <i class="fa-regular fa-circle-check"></i>
                    <i class="fa-solid fa-circle-exclamation"></i>
                </div>

                <div class="input_box">
                    <input type="password" name="password" placeholder="Password" id="password">
                    <small></small>
                    <i class="fa-regular fa-circle-check"></i>
                    <i class="fa-solid fa-circle-exclamation"></i>
                </div>
                
                <input type="submit" value="Login" class="login_button">
    
                <span>Already have an account?<a href="/signup_view/">Login</a></span>
            </form>
        </div>

        <div class="signup_move">
            <h1>Where's MySeat</h1>
            <a href="#" class="signup_cancel"><i class="fa-solid fa-xmark" id="cancel"></i></a>
            <span>Already have an account?</span>
            <a href="/signup_view/" class="signup"><button>Sign Up</button></a>
        </div>
    </div>
</div>


<script>

    login_form = document.getElementById("login_form")
    username = document.getElementById("username")
    password = document.getElementById("password")

    function validateInputs(){
        usernamevalue = username.value.trim()
        passwordvalue = password.value.trim()

        valid = true

        if(usernamevalue === ""){
            setError(username,"Username cannot be blank!")
            valid = false
        }

        else{
            setsuccess(username)
        }

        if(passwordvalue === ""){
            setError(password,"Email cannot be blank!")
            valid = false
        }

        else{
            setsuccess(password)
        }

        return valid

    }

    function setError(input,message){
        const inputBox = input.parentElement;
        const small = inputBox.querySelector('small');
        inputBox.className = "input_box error"
        small.innerText = message;
    }

    function setSuccess(input){
        const inputBox = input.parentElement;
        const small = inputBox.querySelector('small');
        inputBox.className = "input_box success"
        small.innerText = "";
    }


</script>


</body>
</html>